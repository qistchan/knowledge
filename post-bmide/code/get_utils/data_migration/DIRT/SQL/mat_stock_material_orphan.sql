select distinct i1.pitem_id from infodba.pitem i1, infodba.pworkspaceobject wso1 where i1.puid=wso1.puid and wso1.pobject_type='GET6StockMtrl' and i1.puid not in (select distinct i2.puid from infodba.pitem i, infodba.pitem i2, infodba.pworkspaceobject wso2, infodba.pworkspaceobject wso, infodba.pimanrelation rel, infodba.pimantype it where i.puid=wso.puid and i2.puid=wso2.puid and rel.rprimary_objectu=i.puid and rel.rsecondary_objectu=i2.puid and rel.rrelation_typeu=it.puid and it.ptype_name='GET6HasStockMatl' and wso.pobject_type='GET6Material' and wso2.pobject_type='GET6StockMtrl');
